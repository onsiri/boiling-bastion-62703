{% extends "base.html" %}

{% block content %}
<div class="layout-container">
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">LondNet</div>
        <ul class="sidebar-menu">
            <li><a href="{% url 'home' %}">Home</a></li>
            <li><a href="{% url 'about' %}">About</a></li>
            <li><a href="{% url 'product_list' %}">Product</a></li>
            <li class="dropdown">
                Dashboard <span class="arrow">â€º</span>
                <ul class="dropdown-menu">
                    <li><a href="{% url 'sales_forecast' %}">Sale Forecast</a></li>
                    <li><a href="{% url 'personalization' %}">Personalized Predictions</a></li>
                </ul>
            </li>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href="{% url 'contact_us' %}">Contact Us</a></li>
            <li><a href="{% url 'admin:index' %}">Admin</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h2>Customer Recommendation Dashboard</h2>

        <script>
            // Ensure this comes AFTER HTMX is loaded in base.html
            document.addEventListener("DOMContentLoaded", function() {
                htmx.config.allowScripts = true;
            });
        </script>

        <div id="main-content">
            {% include "dashboard/partials/rec_main_content.html" %}
        </div>

        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
        <!-- Your chart scripts here -->
    </div>
</div>
{% endblock %}