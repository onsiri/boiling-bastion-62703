<!-- sales_chart.html -->
{% extends "base.html" %}
{% block content %}

<head>
    <title>Sales Forecast Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        .filter-container {
            margin: 20px 0;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 5px;
        }
        .filter-group {
            margin-right: 20px;
        }
        select {
            padding: 5px;
            margin-left: 5px;
        }
    </style>
</head>

<body>
    <h1>Sales Forecast Dashboard</h1>

    <div class="filter-container">
        <form method="get">
            <div class="filter-group">
                <label>Select Country:
                    <select name="country" onchange="this.form.submit()">
                        {% for country in countries %}
                            <option value="{{ country }}"
                                {% if country == selected_country %}selected{% endif %}>
                                {{ country }}
                            </option>
                        {% endfor %}
                    </select>
                </label>
            </div>

            <div class="filter-group">
                <label>Chart Type:
                    <select name="chart_type" onchange="this.form.submit()">
                        {% for chart_type in chart_types %}
                            <option value="{{ chart_type }}"
                                {% if chart_type == selected_chart_type %}selected{% endif %}>
                                {{ chart_type|title }}
                            </option>
                        {% endfor %}
                    </select>
                </label>
            </div>
        </form>
    </div>

    {{ plot|safe }}
</body>
{% endblock content %}