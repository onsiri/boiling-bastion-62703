{% extends "admin/change_list.html" %}
{% load i18n %}

{% block object-tools %}
<div class="object-tools">
    {# Delete All Button #}
    <form action="{% url 'admin:ai_models_transaction_delete_all' %}" method="POST" style="display: inline">
        {% csrf_token %}
        <input type="submit" value="{% trans 'Delete All' %}"
               class="deletelink"
               onclick="return confirm('{% trans 'Permanently delete ALL transactions?' %}')">
    </form>

    {# Existing CSV Upload Form #}
    <form method="post" enctype="multipart/form-data" style="display: inline; margin-left: 10px">
        {% csrf_token %}
        <input type="file" name="file" accept=".xls, .xlsx">
        <button type="submit" class="button" style="margin-left: 5px">
            {% trans "Upload Excel" %}
        </button>
    </form>

    {{ block.super }}  {# Preserve default "Add" button #}
</div>
{% endblock %}

{% block content %}
<h1>{% trans "Transaction Management Dashboard" %}</h1>
{{ block.super }}
{% endblock %}